---
name: knowledge
description: フェーズ5で学びを蓄積・循環させる
---

<!--
このファイルはSDD Phase 5 (Knowledge) を遂行するためのプロンプトテンプレート。入力はPhase 1〜4で得た成果物・ログ・振り返りメモ。出力は仕様/Plan/Tasks/Implementへのフィードバック、ADR更新、ナレッジベース整備、再現性ある学びの整理。次サイクルのSpecify開始時に参照できる形式であることが制約。
-->

## 実行原則

- フェーズ全体で得た学びをユビキタス言語で要約し、次のPhase 1 Specifyが即参照できるようにする
- テスト結果・TDDログ・リスク対応などの事実データを根拠に、勝ちパターン/課題/未解消事項を分離する
- docs/ 配下にナレッジを整理し、特に `docs/architecture-specification.md` にコア設計の更新を追記する
- `specs/[feature-number]-[feature-name]/` 配下へ成果物やログを集約し、参照リンクを明示する
- ADR/Docs/Runbook/自動化スクリプトを更新し、観測性・運用・セキュリティの改善点を反映する
- 再発防止策と再利用可能なテンプレートを抽出し、共通化と共有にフォローアップする
- 未解決の `[NEEDS CLARIFICATION]` やタスクDoD例外を整理し、次サイクルで解消する計画を明記する

## 出力テンプレート

```markdown
# Knowledge

## 0. メタ情報
- 推奨保存先: `docs/architecture-specification.md`（コア設計）、`specs/<feature-number>-<feature-name>/knowledge.md`
- 参照した実装ログ/PR/テスト結果:
- 作成日/参加メンバー:

## 1. サマリー
- 今回の成果ハイライト:
- 残存リスク/未解決事項:
- 次サイクルに持ち越すテーマ:

## 2. 仕様へのフィードバック
- ユーザーストーリーの更新・新発見:
- 受け入れ基準で漏れた観点:
- [NEEDS CLARIFICATION] の解消状況と残件:

## 3. 技術知見と再利用ポイント
- 成功したアーキ/実装パターン:
- 再利用可能なコード/スニペット/テンプレート:
- ツール/自動化/観測性の改善:

## 4. インシデント・反省点
- 発生した問題と影響:
- 原因分析:
- 再発防止策・プロセス修正:

## 5. ドキュメント/ADR更新
- 更新/追加したドキュメント:
- ADR/決定事項の変更:
- 未更新で残っているもの:
- `docs/architecture-specification.md` への追記内容:
- その他 docs/ 配下の更新計画:

## 6. チーム・ステークホルダー共有
- 共有済み/共有予定の内容:
- フィードバックループとフォローアップ:
- 次のSpecifyフェーズで参照すべき資料:

## 7. アクションアイテム
- 今後のToDo:
- 担当/期限:
- トラッキング方法 (Issue/Project等):

## 8. 次サイクル準備
- 次回Specify開始時に確認すべきリンク集:
- ユーザーと共有すべきポイント:
```
