# PR 本文作成・更新プロンプト

- `gh`コマンドを使用して PR のタイトル・本文を作成・更新してください。
- PR は実装の詳細と変更点に焦点を当て、要件や仕様については Issue を参照するようにしてください。
- PR 本文は日本語で記述してください。

## 重要な制限事項

**絶対に以下の git 操作を勝手に行わないこと：**

- `git add` - ファイルのステージング
- `git commit` - コミットの作成
- `git push` - リモートへのプッシュ
- `git checkout` - ブランチの切り替え
- `git merge` - マージ操作
- その他のファイル変更を伴う git コマンド

**許可される操作：**

- `git status` - 状態確認
- `git diff` - 差分確認
- `git log` - ログ確認
- `gh pr diff` - PR 差分確認
- その他の読み取り専用操作

ユーザーから明示的に指示された場合のみ、git 操作を実行すること。

## 要件

- まず `gh pr view` で PR の存在を確認する
  - PR が存在する場合：`gh pr edit` で編集
  - PR が存在しない場合：`gh pr create` で新規作成
- PR 作成時は `gh pr create --title "タイトル" --body "本文"` を使用
- PR 編集時は `gh pr edit <pr-number> --body "更新された本文"` を使用
- PR 本文内で関連 Issue を参照しない（他の場所で文書化されているため）
- `gh pr diff`コマンドを活用して差分を理解し、変更内容を正確に把握する
- **なぜ**ではなく、**何を実装したか**と**どのように**に焦点を当てる（理由は Issue でカバー）
- デプロイ時の考慮事項を記載する
- 破壊的な変更があれば言及する

## 構成

PR 本文には以下を含める：

1. **実装概要** - 以下のフォーマットで記述する：

   ```
   > [!IMPORTANT]
   > 80文字の日本語以内で簡潔に

   - 補足を箇条書きで三行程度
   ```

2. **影響範囲** - プロジェクトに依存
3. **主要な変更点** - 重要な追加と修正
4. **依存関係** - 新しい依存関係や変更
5. **デプロイの注意点** - 重要なセットアップ・設定の詳細
6. **破壊的な変更** - 後方互換性のない変更

## 差分の理解

PR 作成前に以下のコマンドで変更内容を把握する：

- `gh pr diff` - 現在の PR の差分を表示
- `gh pr diff --name-only` - 変更されたファイル名のみ表示
- `gh pr diff <file-path>` - 特定ファイルの差分のみ表示
- `git diff HEAD~1` - 最新コミットとの差分を確認

これらの差分情報を基に、実装内容を正確に記述し、見落としがないようにする。
